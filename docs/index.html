<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horror Story Generator - Histoires d'horreur IA</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ‘» Horror Story Generator</h1>
            <p class="subtitle">GÃ©nÃ©rez des vidÃ©os d'histoires d'horreur depuis Reddit avec narration et images IA</p>
        </header>

        <div class="content">
        <main>
            <!-- Section de gÃ©nÃ©ration -->
            <section class="generate-section">
        <aside id="terminalPanel" class="terminal">
                    <span class="btn-icon">ğŸ¬</span>
                <strong>Terminal</strong>
                </button>
                    <button id="terminalPause" title="Pause/lecture">â¸ï¸</button>
                <div id="loadingSection" class="loading-section hidden">
                    <div class="loader"></div>
                    <div id="loadingStatus" class="loading-status">
                        <p class="loading-text">PrÃ©paration...</p>
                        <div class="progress-steps">
                            <div class="step" data-step="story">
                                <div class="step-icon">ğŸ“–</div>
                                <div class="step-label">RÃ©cupÃ©ration histoire</div>
                            </div>
                            <div class="step" data-step="audio">
                                <div class="step-icon">ğŸ™ï¸</div>
                                <div class="step-label">Narration IA (navigateur)</div>
                            </div>
                            <div class="step" data-step="slideshow">
                                <div class="step-icon">ğŸ–¼ï¸</div>
                                <div class="step-label">Diaporama des scÃ¨nes</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section d'affichage de la story -->
            <section id="storySection" class="story-section hidden">
                <div class="story-card">
                    <h2 id="storyTitle" class="story-title"></h2>
                    <div class="story-meta">
                        <span id="storyAuthor" class="story-author"></span>
                        <a id="storyLink" href="#" target="_blank" class="story-link">Voir sur Reddit â†’</a>
                    </div>
                    <div id="storyText" class="story-text"></div>
                </div>
            </section>

            <!-- Section vidÃ©o -->
            <section id="slideshowSection" class="video-section hidden">
                <div class="video-container">
                    <canvas id="sceneCanvas" width="1280" height="720"></canvas>
                    <div class="video-controls">
                        <button id="recordBtn" class="btn-download">
                            ğŸ“¥ Enregistrer en WebM (expÃ©rimental)
                        </button>
                        <button id="newVideoBtn" class="btn-secondary">
                            ğŸ”„ Nouvelle histoire
                        </button>
                    </div>
                    <p class="warning">La narration vocale joue en direct et n'est pas incluse dans l'enregistrement WebM.</p>
                </div>
            </section>

            <!-- Section d'erreur -->
            <section id="errorSection" class="error-section hidden">
                <div class="error-card">
                    <div class="error-icon">âš ï¸</div>
                    <h3>Erreur</h3>
                    <p id="errorMessage"></p>
                    <button id="retryBtn" class="btn-secondary">RÃ©essayer</button>
                </div>
            </section>
        </main>

        <!-- Terminal latÃ©ral -->
        <aside id="terminalPanel" class="terminal-panel">
            <div class="terminal-header">
                <span>Terminal</span>
                <div class="terminal-controls">
                    <button id="terminalPause" title="Pause">â¸ï¸</button>
                    <button id="terminalClear" title="Effacer">ğŸ§¹</button>
                </div>
            </div>
            <pre id="terminalOutput" class="terminal-output" aria-live="polite"></pre>
        </aside>
        <aside id="terminalPanel" class="terminal">
            <div class="terminal-header">
                <strong>Terminal</strong>
                <div class="terminal-controls">
                    <label class="term-filter"><input type="checkbox" id="filterInfo" checked> INFO</label>
                    <label class="term-filter"><input type="checkbox" id="filterWarn" checked> WARN</label>
                    <label class="term-filter"><input type="checkbox" id="filterError" checked> ERROR</label>
                    <input id="terminalSearch" class="term-search" type="text" placeholder="Rechercherâ€¦" />
                    <span id="terminalCounters" class="term-counters">I:0 W:0 E:0</span>
                    <button id="terminalAutoscroll" title="Auto-scroll">ğŸ”</button>
                    <button id="terminalCopy" title="Copier">ğŸ“‹</button>
                    <button id="terminalExport" title="TÃ©lÃ©charger JSON">ğŸ’¾</button>
                    <button id="terminalPause" title="Pause/lecture">â¸ï¸</button>
                    <button id="terminalClear" title="Effacer">ğŸ§¹</button>
                </div>
            </div>
            <pre id="terminalOutput" class="terminal-output" aria-live="polite"></pre>
        </aside>
        </div>

        <footer>
            <p>Mode sans serveur: Reddit public + Narration Web Speech</p>
            <p class="warning">âš ï¸ Contenu gÃ©nÃ©rÃ© automatiquement - Peut contenir des thÃ¨mes d'horreur</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
